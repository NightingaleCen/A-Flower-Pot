/*
 * utils.h
 * 提供花盆各项功能的库
 */
#ifndef _UTILS_H_
#define _UTILS_H_

#include "Arduino.h"
#include "Wire.h"
#include "U8g2lib.h"
#include "Adafruit_SHT31.h"

#define DECODE_NEC /*红外解码协议*/

#define ONE_SEC 1000
#define SHT31_ADDR 0x44

#define LIGHT_SENSOR_PIN A0
#define HUMIDITY_SENSOR_PIN A1
#define RECV_PIN 2

#define HUMIDITY_IN_AIR 500
#define HUMIDITY_IN_WATER 180

/*红外信号*/
#define INCREASE_SIGNAL 0x15
#define DECREASE_SIGNAL 0x7

/*开机动画位图*/
const unsigned char cow[] U8X8_PROGMEM = {0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x9f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x9f, 0xff, 0xff, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x8f, 0xff, 0xff, 0x5f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xaf, 0xff, 0xff, 0x5f, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x2f, 0xff, 0xff, 0xdf, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x67, 0xff, 0xff, 0xcf, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x77, 0xfe, 0xff, 0xef, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf7, 0xfc, 0xff, 0xe7, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf7, 0xf9, 0xff, 0xf7, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf7, 0xfb, 0xff, 0xf3, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf7, 0xe3, 0xff, 0xf9, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe7, 0xcf, 0x7f, 0x00, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x07, 0x00, 0x00, 0x80, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf3, 0x8f, 0xff, 0x3c, 0x7e, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xe7, 0xff, 0xff, 0xfe, 0x7f, 0x00, 0x00, 0x80, 0xff, 0x9f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xf3, 0xff, 0xff, 0xfc, 0xff, 0xff, 0xff, 0x3f, 0x00, 0x20, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xf9, 0xff, 0xff, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xf3, 0xfc, 0xff, 0x7f, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfd, 0xff, 0xff, 0xff, 0xff, 0x07, 0xfe, 0xff, 0x07, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfd, 0xff, 0xff, 0xff, 0xff, 0x7f, 0xfc, 0xff, 0xef, 0xff, 0xcf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf9, 0xff, 0xff, 0xff, 0xff, 0x3f, 0xef, 0xfb, 0xff, 0xff, 0x11, 0xff, 0xff, 0xff, 0x0f, 0x7f, 0xf8, 0xff, 0xff, 0xff, 0xff, 0x9f, 0xef, 0xfb, 0xff, 0xff, 0x7d, 0xff, 0xe3, 0xff, 0x67, 0x9e, 0xf9, 0xff, 0xff, 0xff, 0xff, 0xcf, 0xef, 0xfb, 0xff, 0xff, 0x39, 0xff, 0xc9, 0xff, 0x77, 0xde, 0xf1, 0xff, 0xff, 0xff, 0xff, 0xef, 0xef, 0xfb, 0xef, 0xff, 0x83, 0xff, 0xdd, 0xff, 0x07, 0xdf, 0xf7, 0xff, 0xff, 0xff, 0xff, 0xe7, 0xef, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xd9, 0xff, 0xff, 0xdf, 0xf6, 0xff, 0xff, 0xff, 0xff, 0xf3, 0xef, 0xfb, 0xfe, 0xff, 0xff, 0xff, 0xc3, 0xff, 0xff, 0x1f, 0xf0, 0xff, 0xff, 0xff, 0xff, 0xf9, 0xff, 0xff, 0xfe, 0xff, 0xff, 0x03, 0xff, 0xff, 0xff, 0xff, 0xf9, 0xff, 0xff, 0xff, 0xff, 0xfc, 0xff, 0x7f, 0xfe, 0xff, 0xff, 0x79, 0xff, 0x3f, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0x7f, 0xfe, 0xff, 0x3f, 0xff, 0xff, 0xff, 0x31, 0xff, 0x43, 0xfe, 0xff, 0xfb, 0xff, 0xff, 0xff, 0x7f, 0xff, 0xff, 0x9f, 0xff, 0xff, 0xff, 0x87, 0xff, 0xf3, 0xfe, 0xff, 0xfb, 0xff, 0xff, 0xff, 0x7f, 0xff, 0xff, 0xc1, 0xf3, 0xff, 0xff, 0xff, 0xff, 0x47, 0xfe, 0xff, 0xfb, 0xff, 0xff, 0xff, 0x7f, 0xff, 0xff, 0xff, 0xf9, 0x03, 0xe0, 0xff, 0xff, 0x1f, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0x7f, 0xff, 0xff, 0xff, 0xf8, 0xf8, 0x0f, 0xff, 0xff, 0xff, 0x3f, 0xf0, 0xfb, 0xff, 0xff, 0xff, 0x7f, 0xff, 0xff, 0x7f, 0x1a, 0xfe, 0x7f, 0xfc, 0xff, 0xff, 0x87, 0x87, 0xfb, 0xff, 0xff, 0xff, 0x7f, 0xfe, 0xff, 0x3f, 0xcb, 0xff, 0xff, 0xe1, 0xff, 0x3f, 0xf0, 0x3f, 0xfa, 0xff, 0xff, 0xff, 0xff, 0xfc, 0xff, 0xdf, 0xeb, 0x1f, 0xfc, 0x0f, 0x7e, 0x80, 0xff, 0xff, 0xfa, 0xff, 0xff, 0xff, 0xff, 0xf9, 0xff, 0xcf, 0xfb, 0xc7, 0xf9, 0xff, 0x00, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xf3, 0xff, 0xe7, 0xfb, 0xf7, 0xf7, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf9, 0xff, 0xff, 0xff, 0xff, 0xc7, 0xff, 0xf3, 0xfb, 0xf3, 0xf7, 0xff, 0xff, 0x1f, 0x1f, 0xf8, 0xfd, 0xff, 0xff, 0xff, 0xff, 0x1f, 0x7f, 0xf8, 0xfb, 0xf3, 0xf3, 0xff, 0xff, 0x47, 0x9f, 0xf3, 0xfd, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x3c, 0xff, 0xfb, 0xe7, 0xfb, 0x03, 0xf8, 0x71, 0xce, 0xf7, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0x81, 0xff, 0xfb, 0x0f, 0xf8, 0xfb, 0xfb, 0xfd, 0xee, 0xf7, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xfb, 0xfb, 0xfd, 0xee, 0xf7, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xf3, 0xfb, 0x7d, 0xce, 0xf3, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0x07, 0xf8, 0x71, 0x1f, 0xf8, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0x07, 0xff, 0xff, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf9, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0x01, 0xf0, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0x7f, 0xfc, 0xc7, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0x0f, 0xff, 0x9f, 0xff, 0xff, 0x3f, 0xf8, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf3, 0xe1, 0xff, 0x3f, 0xfe, 0xff, 0x80, 0xe3, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x47, 0xfc, 0xff, 0xff, 0xf8, 0x07, 0xfe, 0x8f, 0xfb, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x1f, 0xff, 0xff, 0xff, 0xe3, 0xf0, 0xff, 0x3f, 0xf9, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0x7f, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff};

int lightDetect(const int);
int humidityDetect(const int);
void loadTheCow(U8G2_SSD1306_128X64_NONAME_1_HW_I2C);
void displayInf(U8G2_SSD1306_128X64_NONAME_1_HW_I2C, Adafruit_SHT31);
void changeWaterDuration(int &, int, U8G2_SSD1306_128X64_NONAME_1_HW_I2C);

#endif